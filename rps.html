<html>
    <head>
        <title>Rock, Paper, Scissors</title>
    </head>
    <body>
        <div id="score"></div>
        <h1>Please choose one: </h1>
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>
        <br><br>
        <div id="result"></div>

        <script>
            let playerScore = 0;
            let computerScore = 0;

            let result = document.querySelector('#result');
            let buttons = document.querySelectorAll('button');
            let score = document.querySelector('#score');
            
            score.textContent = `Current score - Computer: ${computerScore}, Player: ${playerScore}`;

            buttons.forEach((button) => {
                button.addEventListener('click', (e) => {
                    playRound(e.target.id);
                });
            });

            function computerPlay() {
                let choices = ['rock', 'paper', 'scissors'];
                return choices[Math.floor(Math.random() * choices.length)];
            }

            function capitalize(string) {
                return string[0].toUpperCase() + string.slice(1).toLowerCase();
            }

            function playRound(playerSelection) {
                let computerSelection = computerPlay();

                function playerWins() {
                    playerScore += 1;
                    result.textContent = `You win! ${capitalize(playerSelection)} beats ${computerSelection}.`;
                }

                function playerLoses() {
                    computerScore += 1;
                    result.textContent = `You lose! ${capitalize(computerSelection)} beats ${playerSelection}.`;
                }

                switch (playerSelection) {
                    case computerSelection:
                        result.textContent = 'A tie! Nobody wins!';
                        break;
                    case 'rock':
                        computerSelection === 'paper' ? playerLoses() : playerWins();
                        break;
                    case 'paper':
                        computerSelection === 'scissors' ? playerLoses() : playerWins();
                        break;
                    case 'scissors':
                        computerSelection === 'rock' ? playerLoses() : playerWins();
                        break;
                    default:
                        result.textContent = "That's, like, now even a choice.";
                }
                score.textContent = `Current score - Computer: ${computerScore}, Player: ${playerScore}`;
            }             

        </script>
    </body>
</html>